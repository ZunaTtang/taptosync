# 숏폼 편집자 싱크 자동화 MVP

숏폼 편집자가 자막 싱크 작업을 **Tap 기반 UX + 자동 보정 엔진**으로 크게 단축하는 Web MVP입니다.

## 주요 기능

### 1. 텍스트 입력 및 정리
- 텍스트 붙여넣기 지원
- 자동 줄 분리 및 공백 정리
- 빈 줄 제거

### 2. 오디오 재생
- 오디오 파일 업로드/선택
- 재생/일시정지/시크 컨트롤
- 실시간 재생 시간 표시

### 3. Tap-to-Sync
- 재생 중 문장 시작에 **Tap 버튼** 또는 **키보드 단축키**로 timestamp 등록
- 자동으로 다음 줄로 포커스 이동
- 재탭/수정 지원 (해당 라인 시간 덮어쓰기)

### 4. 자동 보정 엔진
- **startTime monotonic 보장**: 역전 방지
- **최소 간격(minGap) 적용**: 너무 가까운 시간 방지
- **smoothing**: 인접 간격 튀는 값 완화
- **길이 기반 분배**: 문장 길이에 따라 endTime 자연스럽게 배분
- **scaling**: 전체 길이 비율 보정 (옵션)

### 5. 실시간 미리보기
- 현재 재생 시간에 해당하는 라인 자동 하이라이트
- 타임스탬프 리스트를 정렬/가독성 있게 표시

### 6. Export 3종
- **SRT**: 표준 자막 포맷
- **LRC**: 가사 파일 포맷
- **CapCut CSV**: CapCut 편집기 호환 포맷

## 로컬 실행 방법

### 사전 요구사항
- Node.js 18+ 
- npm 또는 yarn

### 설치 및 실행

```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm run dev

# 빌드
npm run build

# 테스트 실행
npm test
```

브라우저에서 `http://localhost:5173` (또는 Vite가 지정한 포트)로 접속합니다.

## 사용 방법

1. **텍스트 입력**: 좌측 패널에 자막 텍스트를 붙여넣습니다.
2. **오디오 업로드**: 우측 패널에서 오디오 파일을 선택합니다.
3. **Tap 동기화**: 
   - 오디오를 재생합니다
   - 각 문장이 시작되는 시점에 **Tap 버튼**을 누르거나 **키보드 단축키**(예: Enter 또는 T)를 누릅니다
   - 자동으로 다음 줄로 포커스가 이동합니다
4. **자동 보정**: 모든 timestamp를 입력한 후, 자동 보정 엔진이 적용됩니다.
5. **Export**: 원하는 포맷(SRT/LRC/CapCut CSV)을 선택하여 다운로드합니다.

## Export 예시

### SRT 포맷
```
1
00:00:01,000 --> 00:00:03,500
첫 번째 자막입니다.

2
00:00:03,500 --> 00:00:06,200
두 번째 자막입니다.
```

### LRC 포맷
```
[00:01.00]첫 번째 자막입니다.
[00:03.50]두 번째 자막입니다.
```

### CapCut CSV 포맷
```csv
start,end,text
1.0,3.5,"첫 번째 자막입니다."
3.5,6.2,"두 번째 자막입니다."
```

## 기술 스택

- **프론트엔드**: React 18+ with TypeScript
- **빌드 도구**: Vite
- **스타일링**: Tailwind CSS
- **테스트**: Vitest (권장)

## 프로젝트 구조

```
src/
├── features/
│   ├── sync/          # Sync Engine 모듈
│   └── export/        # Export 모듈
├── models/            # 도메인 모델
├── utils/             # 유틸리티 함수
└── components/        # React 컴포넌트
```

자세한 구조는 [AGENTS.md](./AGENTS.md)를 참고하세요.

## 향후 로드맵

### Phase 1 (현재 MVP)
- ✅ 텍스트 입력 및 정리
- ✅ 오디오 재생
- ✅ Tap-to-Sync 입력
- ✅ 보정 알고리즘 MVP
- ✅ SRT/CSV/LRC Export
- ✅ UX polishing

### Phase 2 (후순위)
- 🔄 Drag Sync: 타임라인에서 드래그로 시간 조정
- 🔄 Waveform UI: 오디오 파형 시각화
- 🔄 AI alignment: AI 기반 자동 싱크 제안

### Phase 3 (향후)
- 🔄 프로젝트 저장/불러오기
- 🔄 다중 오디오 트랙 지원
- 🔄 실시간 협업

## 개발 가이드

프로젝트의 상세한 스펙, 우선순위, 폴더 구조, 코딩 규칙은 [AGENTS.md](./AGENTS.md)를 참고하세요.

## 라이선스

MIT License

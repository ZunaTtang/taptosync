# 숏폼 편집자 싱크 자동화 MVP

숏폼 편집자가 자막 싱크 작업을 **Tap 기반 UX + 자동 보정 엔진**으로 크게 단축하는 Web MVP입니다.

## 주요 기능

### 1. 텍스트 입력 및 정리
- 텍스트 붙여넣기 시 문단 자동 정리
- 줄 단위로 자막 라인 자동 생성

### 2. 오디오 재생 모드
**두 가지 모드**를 지원합니다:
1. **파일 모드**: 오디오 파일(.mp3, .wav 등)을 업로드하여 재생
2. **타이머 모드**: 오디오 파일 없이, 설정한 시간(초/분)동안 재생 시뮬레이션 (음성 없이 싱크만 딸 때 유용)

### 3. Tap-to-Sync UX
- **재생/일시정지**: `Space` 키 또는 화면 버튼
- **싱크 입력**: 하단 컨트롤 바의 **[시작 탭]** → **[종료 탭]** 버튼 클릭
- **이동**: 키보드 `←` / `→` 방향키로 0.5초(설정 가능) 단위 미세 조정
- **흐름**: 시작 탭(Start Time 기록) → 종료 탭(End Time 기록) → 자동으로 다음 줄 이동

### 4. 자동 보정 엔진 (Lite)
빠른 작업을 위해 **최소한의 필수 보정**만 적용됩니다:
- **역전 방지**: 타임스탬프 꼬임 방지
- **최소 간격(MinGap)**: 0.1초 미만의 너무 짧은 자막 방지
- **Smoothing**: 급격하게 튀는 입력 간격 완화
> *참고: 복잡한 길이 기반 자동 분배나 스케일링은 사용자의 수동 입력 정확도를 위해 현재 비활성화되어 있습니다.*

### 5. Export 3종
- **SRT**: 표준 자막 포맷
- **LRC**: 가사 파일 포맷
- **CapCut CSV**: 캡컷(CapCut) PC 버전 호환 포맷

## 사용 방법

1. **텍스트 입력**: 화면 중앙의 '자막 텍스트 입력' 란에 대본을 붙여넣습니다. (자동으로 라인이 생성됩니다)
2. **오디오 설정**: 
   - 파일을 업로드하거나 '파일 없이 시작' 스위치를 켜서 타이머 모드를 설정합니다.
3. **싱크 작업**:
   - 재생(`Space`)을 시작합니다.
   - 문장이 시작될 때 **[시작 탭]** 버튼을 클릭합니다.
   - 문장이 끝날 때 **[종료 탭]** 버튼을 클릭합니다.
   - 자동으로 다음 문장으로 넘어갑니다.
4. **Export**: 
   - 상단 헤더의 Export 버튼을 눌러 원하는 포맷으로 다운로드합니다.

## 조작 가이드 (Shortcuts)

| 기능 | 입력 | 비고 |
|---|---|---|
| **재생 / 일시정지** | `Space` | 텍스트 입력 중일 때는 작동 안 함 |
| **뒤로 이동** | `←` (Left Arrow) | 설정된 간격만큼 이동 |
| **앞으로 이동** | `→` (Right Arrow) | 설정된 간격만큼 이동 |
| **싱크 탭** | **마우스 클릭** | *현재 키보드 단축키 미지원* (추후 업데이트 예정) |

> **주의**: 텍스트 입력창 등에 포커스가 있을 경우 단축키가 작동하지 않을 수 있습니다. 배경을 한 번 클릭해 포커스를 해제하세요.

## 프로젝트 구조

```
src/
├── components/        # UI 컴포넌트 (AudioPlayer, Timeline 등)
├── features/
│   ├── sync/          # 싱크 로직 (Collector, Smoother)
│   └── export/        # 파일 변환 (SRT, LRC, CSV)
├── models/            # 데이터 타입 (Line 등)
└── App.tsx            # 메인 로직 및 상태 관리
```

## 로컬 실행 방법

```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm run dev
```

브라우저에서 `http://localhost:5173` 접속
